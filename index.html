<!doctype html>
<html lang="pl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Bezpieczna SieÄ‡ â€” Netykieta Â· BezpieczeÅ„stwo Â· ToÅ¼samoÅ›Ä‡ Â· WiarygodnoÅ›Ä‡</title>
<meta name="description" content="Strona egzaminacyjna o zasadach bezpiecznego korzystania z internetu. Netykieta, bezpieczeÅ„stwo, cyfrowa toÅ¼samoÅ›Ä‡ i wiarygodnoÅ›Ä‡ informacji."/>
<link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Crect width='100' height='100' rx='20' fill='%2300173b'/%3E%3Ctext x='50' y='58' font-size='46' text-anchor='middle' fill='%23fff' font-family='Arial, sans-serif'%3ES%3C/text%3E%3C/svg%3E" />
<style>
  :root{
    --bg:#000814;   /* very dark blue */
    --accent:#00a6ff; /* bright blue */
    --muted:#bfc8d6; /* light grey-blue */
    --card:#0b1220; /* dark card */
    --glass: rgba(255,255,255,0.04);
    --glass-2: rgba(255,255,255,0.02);
    --glass-3: rgba(255,255,255,0.06);
    --radius:14px;
    --ease: cubic-bezier(.19,1,.22,1);
    --text:#e6eef8;
  }

  /* reset & base */
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;
    font-family:Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    background: radial-gradient(circle at 10% 10%, rgba(0,166,255,0.06), transparent 5%),
                linear-gradient(180deg, #000814 0%, #02132b 60%, #061226 100%);
    color:var(--text);
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
    overflow-x:hidden;
    min-height:100vh;
  }

  /* particle canvas covers */
  #particle-wrap{
    position:fixed; inset:0; z-index:0; pointer-events:none;
    mix-blend-mode:screen; opacity:0.9;
  }

  /* container */
  .site{
    position:relative; z-index:2; max-width:1100px; margin:40px auto; padding:28px;
  }

  header{
    display:flex; gap:16px; align-items:center; justify-content:space-between;
    margin-bottom:18px;
  }

  .logo{
    display:flex; gap:12px; align-items:center;
  }
  .logo .mark{
    width:58px; height:58px; border-radius:12px;
    background:linear-gradient(135deg,var(--accent),#8bd2ff);
    display:grid; place-items:center; color:#001223; font-weight:800; font-size:20px;
    box-shadow: 0 6px 18px rgba(0,166,255,0.12), inset 0 -6px 18px rgba(255,255,255,0.06);
    transform:rotate(-8deg);
    animation: mark-pop 900ms var(--ease) both;
  }
  @keyframes mark-pop{ from{transform:rotate(-8deg) scale(.6); opacity:0} to{transform:rotate(-8deg) scale(1); opacity:1} }

  .title{
    line-height:1;
  }
  .title h1{ margin:0; font-size:18px; letter-spacing:0.2px; color:var(--text) }
  .title p{ margin:0; font-size:12px; color:var(--muted) }

  /* nav tabs */
  nav.tabs{
    background:var(--glass); border-radius:12px; padding:6px; display:flex; gap:6px;
    box-shadow: 0 6px 24px rgba(3,8,23,0.6);
    backdrop-filter: blur(6px);
  }
  nav.tabs button{
    border:0; background:transparent; color:var(--muted); padding:10px 16px; border-radius:10px;
    cursor:pointer; font-weight:600; font-size:14px; transition:all 300ms var(--ease);
  }
  nav.tabs button.active{
    background: linear-gradient(90deg, rgba(0,166,255,0.12), rgba(255,255,255,0.02));
    color:var(--text); box-shadow: 0 8px 18px rgba(0,166,255,0.08);
    transform:translateY(-3px);
  }

  main.card{
    margin-top:18px; display:grid; grid-template-columns: 1fr 360px; gap:20px;
  }

  /* left column: content */
  .panel{
    background: linear-gradient(180deg, rgba(255,255,255,0.02), transparent);
    border-radius:var(--radius); padding:20px; min-height:520px; position:relative;
    box-shadow: 0 10px 30px rgba(2,6,23,0.6);
    overflow:hidden;
  }

  .panel .hero{
    display:flex; gap:18px; align-items:flex-start;
  }
  .typing{
    font-size:20px; font-weight:700; letter-spacing:0.2px;
    color:var(--text);
  }
  .sub{
    color:var(--muted); margin-top:8px; font-size:13px;
  }

  /* cards grid inside panel */
  .cards{
    display:grid; grid-template-columns: repeat(auto-fit,minmax(220px,1fr)); gap:14px; margin-top:18px;
  }
  .card-item{
    background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border-radius:12px; padding:14px; min-height:110px; position:relative; overflow:hidden;
    transition:transform 400ms var(--ease), box-shadow 400ms var(--ease);
    border:1px solid rgba(255,255,255,0.03);
  }
  .card-item:hover{ transform:translateY(-8px); box-shadow: 0 18px 40px rgba(3,10,30,0.6) }
  .card-item h3{ margin:0 0 8px 0; font-size:15px; color:var(--text) }
  .card-item p{ margin:0; color:var(--muted); font-size:13px; line-height:1.4 }

  /* right column: sidebar */
  aside.sidebar{
    position:relative; background:linear-gradient(180deg, rgba(0,0,0,0.16), rgba(255,255,255,0.02));
    border-radius:var(--radius); padding:18px; min-height:520px; border:1px solid rgba(255,255,255,0.03);
  }
  .sidebar h4{ margin:0 0 8px 0; color:var(--text) }
  .exam-q{ margin-top:8px; display:flex; flex-direction:column; gap:8px; }
  .q{
    background:var(--glass-2); padding:10px; border-radius:10px; color:var(--muted); font-size:13px;
    transition:transform 350ms var(--ease);
  }
  .q:hover{ transform:translateX(6px); color:var(--text) }

  /* footer and controls */
  .controls{ display:flex; gap:12px; align-items:center; margin-top:14px; }
  .btn{
    background:linear-gradient(90deg,var(--accent),#49c3ff); color:#001227; border:0; padding:10px 14px;
    border-radius:10px; font-weight:700; cursor:pointer; box-shadow: 0 8px 24px rgba(0,166,255,0.12);
  }
  .ghost{ background:transparent; border:1px solid rgba(255,255,255,0.06); color:var(--muted); }

  /* tab-specific panels */
  .tab-content{ display:none; opacity:0; transform:translateY(8px); transition: all 500ms var(--ease); }
  .tab-content.active{ display:block; opacity:1; transform:translateY(0) }

  /* animated list items */
  .list-animated li{
    background: linear-gradient(90deg, rgba(255,255,255,0.01), rgba(0,166,255,0.02));
    padding:10px; margin-bottom:10px; border-radius:8px; color:var(--muted); font-size:14px;
    border-left:4px solid rgba(0,166,255,0.12); transition: transform 350ms var(--ease);
  }
  .list-animated li:hover{ transform: translateX(8px); color:var(--text) }

  /* fancy footer */
  footer{
    margin-top:24px; text-align:center; color:var(--muted); font-size:13px;
  }

  /* animated accent elements */
  .float-ring{
    position:absolute; width:220px; height:220px; border-radius:50%;
    border:1px solid rgba(0,166,255,0.08); right:-60px; top:-80px; filter:blur(18px);
    animation: ring-rotate 12s linear infinite;
  }
  @keyframes ring-rotate{ from{transform:rotate(0)} to{transform:rotate(360deg)} }

  /* subtle diagonal stripe overlay */
  .diagonal{
    position:absolute; inset:0; background-image: linear-gradient(135deg, rgba(255,255,255,0.007) 25%, transparent 25%, transparent 50%, rgba(255,255,255,0.007) 50%, rgba(255,255,255,0.007) 75%, transparent 75%, transparent);
    background-size: 14px 14px; pointer-events:none;
    mix-blend-mode:overlay;
  }

  /* responsive */
  @media (max-width:980px){
    main.card{ grid-template-columns: 1fr; }
    .logo .mark{ width:46px; height:46px; font-size:18px }
    .site{ margin:18px; padding:18px }
  }

  /* prefers reduced motion */
  @media (prefers-reduced-motion: reduce){
    *{ animation:none !important; transition:none !important; scroll-behavior:auto !important; }
    #particle-wrap{ display:none }
    .float-ring{ display:none }
  }

  /* small utilities */
  .muted{ color:var(--muted) }
  .accent{ color:var(--accent) }
  .pill{ padding:6px 8px; background:var(--glass-3); border-radius:999px; font-weight:700; font-size:12px; color:var(--muted) }
</style>
</head>
<body>

<!-- particle canvas -->
<div id="particle-wrap"><canvas id="particles"></canvas></div>

<div class="site" role="main" aria-labelledby="site-title">
  <header>
    <div class="logo" aria-hidden="false">
      <div class="mark">S</div>
      <div class="title">
        <h1 id="site-title">Bezpieczna SieÄ‡ â€” przewodnik</h1>
        <p>Prosta strona egzaminacyjna o netykiecie i bezpieczeÅ„stwie online</p>
      </div>
    </div>

    <nav class="tabs" role="tablist" aria-label="ZakÅ‚adki">
      <button class="tab-btn active" data-tab="netykieta" role="tab" aria-selected="true">Netykieta</button>
      <button class="tab-btn" data-tab="bezpieczenstwo" role="tab">BezpieczeÅ„stwo</button>
      <button class="tab-btn" data-tab="tosamosc" role="tab">Cyfrowa toÅ¼samoÅ›Ä‡</button>
      <button class="tab-btn" data-tab="wiarygodnosc" role="tab">WiarygodnoÅ›Ä‡</button>
    </nav>
  </header>

  <main class="card">

    <!-- LEFT: content -->
    <section class="panel" aria-live="polite">
      <div class="hero">
        <div>
          <div class="typing" id="typing">Witaj â€” nauczymy CiÄ™, jak bezpiecznie korzystaÄ‡ z internetu.</div>
          <div class="sub">Szablon zawiera przygotowanie do moÅ¼liwych pytaÅ„ egzaminacyjnych i przykÅ‚ady odpowiedzi.</div>
        </div>
        <div style="margin-left:auto; text-align:right">
          <div class="pill">Egzamin: Informatyka</div>
          <div style="height:8px"></div>
          <div style="font-size:12px; color:var(--muted)">Animacje: duÅ¼o âœ¨</div>
        </div>
      </div>

      <div class="cards" id="content-area" style="margin-top:18px">
        <!-- content populated by JS for each tab -->
      </div>

      <div style="height:8px"></div>
      <div class="controls">
        <button class="btn" id="download-notes">Pobierz notatkÄ™ (PDF)</button>
        <button class="btn ghost" id="toggle-motion">Zredukuj animacje</button>
      </div>

      <div class="float-ring" aria-hidden="true"></div>
      <div class="diagonal" aria-hidden="true"></div>
    </section>

    <!-- RIGHT: sidebar -->
    <aside class="sidebar" aria-label="Pytania egzaminacyjne">
      <h4>MoÅ¼liwe pytania na egzaminie</h4>
      <div class="exam-q" id="exam-questions">
        <div class="q">1) JakÄ… nazwÄ™ nadaÅ‚eÅ›(aÅ›) stronie i dlaczego?</div>
        <div class="q">2) Z jakiego kreatora strony byÅ› skorzystaÅ‚(a)?</div>
        <div class="q">3) Jakie sÄ… najwaÅ¼niejsze zasady netykiety?</div>
        <div class="q">4) Jak chroniÄ‡ dane osobowe i hasÅ‚a?</div>
        <div class="q">5) Co oznacza "cyfrowa toÅ¼samoÅ›Ä‡"?</div>
        <div class="q">6) Jak sprawdziÄ‡, czy informacja w sieci jest prawdziwa?</div>
        <div class="q">7) Czego dowiedziaÅ‚eÅ› siÄ™ od bliskich o bezpieczeÅ„stwie?</div>
        <div class="q">8) KtÃ³ra zakÅ‚adka jest najwaÅ¼niejsza i dlaczego?</div>
      </div>

      <div style="height:12px"></div>
      <div class="pill">Szybkie wskazÃ³wki</div>
      <ul style="margin-top:12px; padding-left:18px; color:var(--muted); line-height:1.6; font-size:13px">
        <li>Silne hasÅ‚o = dÅ‚ugi + unikatowy + menedÅ¼er</li>
        <li>Nie udostÄ™pniaj PESEL/hasÅ‚a/zdjÄ™Ä‡ dokumentÃ³w</li>
        <li>Uwierzytelnianie dwuskÅ‚adnikowe (2FA)</li>
      </ul>
    </aside>

  </main>

  <footer>
    <small>Gotowe do pokazania na egzaminie â€” powodzenia! (Animacje sÄ… opcjonalne ðŸ˜‰)</small>
  </footer>
</div>

<script>
/* ============================================================
   Complete JS: particles, tab content, animations, interactions
   ============================================================ */

/* Utilities */
const $ = (s, r=document) => r.querySelector(s);
const $$ = (s, r=document) => Array.from(r.querySelectorAll(s));

/* Particle background (canvas) */
(function particleCanvas(){
  const canvas = document.getElementById('particles');
  if(!canvas) return;
  const ctx = canvas.getContext('2d');
  let w = canvas.width = innerWidth;
  let h = canvas.height = innerHeight;
  const DPR = Math.max(1, window.devicePixelRatio || 1);
  canvas.width = w * DPR; canvas.height = h * DPR;
  canvas.style.width = w + 'px'; canvas.style.height = h + 'px';
  ctx.scale(DPR, DPR);

  const max = Math.min(160, Math.floor((w*h)/9000)); // adapt count
  const pts = [];
  for(let i=0;i<max;i++){
    pts.push({
      x: Math.random()*w,
      y: Math.random()*h,
      vx: (Math.random()-0.5)*0.25,
      vy: (Math.random()-0.5)*0.25,
      r: Math.random()*1.6+0.6,
      hue: 200 + Math.random()*80
    });
  }
  let anim = true;
  function frame(){
    if(!anim) return;
    ctx.clearRect(0,0,w,h);
    // glow gradient overlay
    const g = ctx.createLinearGradient(0,0,w,h);
    g.addColorStop(0, 'rgba(0,166,255,0.03)');
    g.addColorStop(1, 'rgba(0,0,0,0.02)');
    ctx.fillStyle = g; ctx.fillRect(0,0,w,h);

    for(let p of pts){
      p.x += p.vx; p.y += p.vy;
      if(p.x< -20) p.x = w+20; if(p.x> w+20) p.x = -20;
      if(p.y< -20) p.y = h+20; if(p.y> h+20) p.y = -20;

      ctx.beginPath();
      ctx.fillStyle = `rgba(${Math.floor(20 + p.hue/2)}, ${Math.floor(80 + p.hue/3)}, 255, 0.85)`;
      ctx.arc(p.x, p.y, p.r, 0, Math.PI*2);
      ctx.fill();
    }

    // draw lines between nearby particles
    for(let i=0;i<pts.length;i++){
      for(let j=i+1;j<pts.length;j++){
        const a=pts[i], b=pts[j];
        const dx = a.x-b.x, dy=a.y-b.y;
        const d2 = dx*dx+dy*dy;
        if(d2 < 10000){
          const alpha = 0.12*(1 - Math.sqrt(d2)/100);
          ctx.beginPath();
          ctx.strokeStyle = `rgba(0,166,255,${alpha.toFixed(3)})`;
          ctx.lineWidth = 0.6;
          ctx.moveTo(a.x,a.y); ctx.lineTo(b.x,b.y); ctx.stroke();
        }
      }
    }

    requestAnimationFrame(frame);
  }
  frame();

  /* responsive */
  addEventListener('resize', ()=> {
    w = canvas.width = innerWidth; h = canvas.height = innerHeight;
    canvas.width = w * DPR; canvas.height = h * DPR;
    canvas.style.width = w + 'px'; canvas.style.height = h + 'px';
    ctx.scale(DPR, DPR);
  });

  // expose toggle
  window.toggleParticles = (on) => {
    anim = !!on;
    if(anim) requestAnimationFrame(frame);
    else ctx.clearRect(0,0,w,h);
  };
})();

/* Typing effect header */
(function typing(){
  const el = document.getElementById('typing');
  const phrases = [
    'Witaj â€” nauczymy CiÄ™, jak bezpiecznie korzystaÄ‡ z internetu.',
    'Netykieta â€” kultura i szacunek w komunikacji online.',
    'BezpieczeÅ„stwo â€” chroÅ„ swoje hasÅ‚a i dane osobowe.',
    'Cyfrowa toÅ¼samoÅ›Ä‡ â€” dbaj o wizerunek w sieci.',
  ];
  let p = 0, i = 0, forward = true;
  function tick(){
    const str = phrases[p];
    if(forward){
      i++;
      el.textContent = str.slice(0,i);
      if(i>=str.length){ forward=false; setTimeout(tick,1400); return;}
    }else{
      i--;
      el.textContent = str.slice(0,i);
      if(i<=0){ forward=true; p=(p+1)%phrases.length; setTimeout(tick,500); return;}
    }
    setTimeout(tick, 28 + Math.random()*40);
  }
  tick();
})();

/* Tab content data (Polish) */
const content = {
  netykieta: {
    title: 'Netykieta â€” dobre zachowanie w sieci',
    items: [
      {h:'Szanuj innych', t:'Nie obraÅ¼aj, nie wyÅ›miewaj, unikaj mowy nienawiÅ›ci. Traktuj innych tak, jak chcesz byÄ‡ traktowany.'},
      {h:'Czytelna komunikacja', t:'Stosuj poprawnÄ… interpunkcjÄ™, akapituj, uÅ¼ywaj jasnych nagÅ‚Ã³wkÃ³w.'},
      {h:'Nie spamuj', t:'Unikaj masowych wiadomoÅ›ci, niezamawianych linkÃ³w i reklam.'},
      {h:'Cytuj ÅºrÃ³dÅ‚a', t:'Kiedy uÅ¼ywasz cudzych treÅ›ci â€” podaj autora i ÅºrÃ³dÅ‚o.'},
    ],
    extra: 'Tip: PomyÅ›l dwa razy zanim coÅ› opublikujesz â€” to, co wrzucisz do sieci, moÅ¼e zostaÄ‡ na zawsze.'
  },

  bezpieczenstwo: {
    title: 'BezpieczeÅ„stwo â€” jak chroniÄ‡ siebie i swoje dane',
    items: [
      {h:'Silne hasÅ‚a', t:'UÅ¼ywaj dÅ‚ugich, unikatowych haseÅ‚. Korzystaj z menedÅ¼era haseÅ‚.'},
      {h:'2FA', t:'WÅ‚Ä…cz uwierzytelnianie dwuskÅ‚adnikowe â€” to redukuje ryzyko przejÄ™cia konta.'},
      {h:'Aktualizacje', t:'Aktualizuj system i aplikacje â€” Å‚atajÄ… luki bezpieczeÅ„stwa.'},
      {h:'UwaÅ¼aj na phishing', t:'Nie klikaj podejrzanych linkÃ³w i nie podawaj danych na stronach, ktÃ³re wyglÄ…dajÄ… dziwnie.'},
    ],
    extra: 'PamiÄ™taj: nie udostÄ™pniaj haseÅ‚, numerÃ³w PESEL ani zdjÄ™Ä‡ dokumentÃ³w.'
  },

  tosamosc: {
    title: 'Cyfrowa toÅ¼samoÅ›Ä‡ â€” jak dbaÄ‡ o wizerunek online',
    items: [
      {h:'Kontroluj prywatnoÅ›Ä‡', t:'SprawdÅº ustawienia prywatnoÅ›ci w mediach spoÅ‚ecznoÅ›ciowych.'},
      {h:'Publikuj Å›wiadomie', t:'TreÅ›ci publiczne widzÄ… wszyscy â€” zastanÃ³w siÄ™, czy chcesz to tam mieÄ‡ na zawsze.'},
      {h:'Separuj konta', t:'Oddziel konto prywatne od zawodowego / edukacyjnego.'},
      {h:'Monitoruj wizerunek', t:'Regularnie wyszukuj swoje imiÄ™ w Google, usuÅ„ kompromitujÄ…ce treÅ›ci.'},
    ],
    extra: 'WyobraÅº sobie, Å¼e rekruter widzi Twoje profile â€” co zobaczy?'
  },

  wiarygodnosc: {
    title: 'WiarygodnoÅ›Ä‡ informacji â€” jak rozpoznawaÄ‡ faÅ‚szywe treÅ›ci',
    items: [
      {h:'SprawdÅº ÅºrÃ³dÅ‚o', t:'Czy artykuÅ‚ pochodzi z oficjalnej, znanej strony? Kto jest autorem?'},
      {h:'PorÃ³wnaj informacje', t:'Szukaj tej samej informacji w kilku niezaleÅ¼nych ÅºrÃ³dÅ‚ach.'},
      {h:'Data i kontekst', t:'SprawdÅº datÄ™ publikacji â€” stara informacja moÅ¼e byÄ‡ dziÅ› nieaktualna.'},
      {h:'UwaÅ¼aj na emocje', t:'FaÅ‚szywki czÄ™sto wykorzystujÄ… szokujÄ…ce nagÅ‚Ã³wki i silne emocje.'},
    ],
    extra: 'JeÅ›li coÅ› wyglÄ…da zbyt sensacyjnie â€” zatrzymaj siÄ™ i sprawdÅº.'
  }
};

/* Render initial tab content */
function renderTab(key){
  const area = document.getElementById('content-area');
  area.innerHTML = '';
  const data = content[key];
  const header = document.createElement('div');
  header.innerHTML = `<h2 style="margin:0;font-size:20px;color:var(--accent)">${data.title}</h2><p class="muted" style="margin-top:6px">${data.extra}</p>`;
  area.appendChild(header);

  // add many animated cards (multiple layers -> many animations)
  const grid = document.createElement('div'); grid.className='cards';
  // Duplicate items to create "mnÃ³stwo" animacji, but keep meaningful
  for(let i=0;i<8;i++){
    const item = data.items[i % data.items.length];
    const card = document.createElement('article');
    card.className = 'card-item reveal';
    // add small animated icon
    card.innerHTML = `
      <div style="display:flex;align-items:center;gap:12px">
        <div style="width:46px;height:46px;border-radius:10px;background:linear-gradient(135deg,var(--accent),#8bd2ff);display:grid;place-items:center;font-weight:800;color:#001227; transform:rotate(${(i*15)%360}deg); box-shadow: 0 8px 20px rgba(0,166,255,0.08);">
          ${item.h.charAt(0)}
        </div>
        <div style="flex:1">
          <h3>${item.h}</h3>
          <p>${item.t}</p>
        </div>
      </div>
      <div style="height:8px"></div>
      <div style="display:flex;gap:8px;align-items:center">
        <div style="flex:1;height:8px;background:linear-gradient(90deg, rgba(255,255,255,0.02), rgba(0,166,255,0.06));border-radius:999px;overflow:hidden">
          <div style="height:100%; width:${40 + (i*7)%60}%; background:linear-gradient(90deg,var(--accent),#4bd1ff); border-radius:999px; transition:width 1200ms ease"></div>
        </div>
        <div style="font-size:11px;color:var(--muted)">${40 + (i*7)%60}%</div>
      </div>
    `;
    grid.appendChild(card);
  }
  area.appendChild(grid);

  // little animated footer note
  const note = document.createElement('div');
  note.style.marginTop = '16px';
  note.innerHTML = `<small class="muted">PrzykÅ‚ady do omÃ³wienia na egzaminie â€” moÅ¼esz rozwinÄ…Ä‡ kaÅ¼dy punkt krÃ³tkim wyjaÅ›nieniem.</small>`;
  area.appendChild(note);

  // trigger reveal animations
  setTimeout(()=> revealVisible(), 100);
}

/* Tabs interactivity */
const tabs = $$('.tab-btn');
tabs.forEach(btn=>{
  btn.addEventListener('click', ()=>{
    tabs.forEach(b=>{ b.classList.remove('active'); b.setAttribute('aria-selected','false')});
    btn.classList.add('active'); btn.setAttribute('aria-selected','true');
    const tab = btn.dataset.tab;
    // show content
    renderTab(tab);
    // hide/activate aria panels (not separate in DOM here)
  });
});

/* Initial render */
renderTab('netykieta');

/* Reveal on scroll (IntersectionObserver) */
function revealVisible(){
  const reveals = $$('.reveal');
  const io = new IntersectionObserver((entries)=>{
    for(const e of entries){
      if(e.isIntersecting){
        e.target.style.transform = 'translateY(0)';
        e.target.style.opacity = 1;
        e.target.style.transition = 'opacity 600ms var(--ease), transform 600ms var(--ease)';
        io.unobserve(e.target);
      }
    }
  }, {threshold:0.12});
  for(const r of reveals){
    r.style.opacity = 0; r.style.transform = 'translateY(18px)';
    io.observe(r);
  }
}

/* Toggle reduced animations button */
const toggleBtn = document.getElementById('toggle-motion');
let reduced = false;
toggleBtn.addEventListener('click', ()=>{
  reduced = !reduced;
  if(reduced){
    document.documentElement.style.setProperty('--accent','#89baff');
    document.documentElement.style.setProperty('--muted','#c9d6e6');
    document.querySelector('body').style.transition = 'none';
    // disable particles
    window.toggleParticles(false);
    toggleBtn.textContent = 'Animacje zredukowane';
    toggleBtn.classList.add('ghost');
  } else {
    window.toggleParticles(true);
    toggleBtn.textContent = 'Zredukuj animacje';
    toggleBtn.classList.remove('ghost');
  }
});

/* Fake "download notes" â€” generate a small printable window */
document.getElementById('download-notes').addEventListener('click', ()=>{
  const dataTitle = document.querySelector('.tab-btn.active').textContent;
  const w = window.open('', '_blank', 'noopener,width=800,height=900');
  const contentArea = document.getElementById('content-area').innerHTML;
  const html = `
    <html><head><meta charset="utf-8"><title>Notatka - ${dataTitle}</title>
    <style>body{font-family:Arial,Helvetica,sans-serif;padding:28px;color:#111} h1{color:#0067a8} p{color:#333}</style>
    </head><body>
    <h1>Notatka: ${dataTitle}</h1>
    ${contentArea}
    <hr><p>Wydrukowane z: Bezpieczna SieÄ‡</p>
    </body></html>
  `;
  w.document.write(html);
  w.document.close();
});

/* Keyboard: switch tabs with 1-4 keys */
addEventListener('keydown', (e)=>{
  if(e.key >= '1' && e.key <= '4'){
    const idx = Number(e.key)-1;
    if(tabs[idx]) tabs[idx].click();
  }
});

/* Animated little flourish on load (small confetti-like) */
(function tinyConfetti(){
  const container = document.createElement('div');
  container.style.position='fixed';
  container.style.pointerEvents='none';
  container.style.inset='0';
  container.style.zIndex='4';
  document.body.appendChild(container);

  let run = true;
  const colors = ['#00a6ff','#7ee0ff','#ffffff','#b3d9ff'];
  function make(){
    if(!run) return;
    const el = document.createElement('div');
    el.style.position='absolute';
    el.style.left = (20 + Math.random()*60) + '%';
    el.style.top = (10 + Math.random()*20) + '%';
    const size = 6 + Math.random()*14;
    el.style.width = el.style.height = size+'px';
    el.style.borderRadius='3px';
    el.style.background = colors[Math.floor(Math.random()*colors.length)];
    el.style.opacity = 0.95;
    el.style.transform = `rotate(${Math.random()*360}deg)`;
    el.style.transition = 'transform 1500ms ease, opacity 1200ms linear, top 1800ms ease';
    container.appendChild(el);
    requestAnimationFrame(()=> {
      el.style.top = (20 + Math.random()*70) + '%';
      el.style.opacity = 0;
      el.style.transform = `translateY(40px) rotate(${Math.random()*360}deg) scale(0.6)`;
    });
    setTimeout(()=> el.remove(),1900);
  }
  // run few times initially
  for(let i=0;i<18;i++){ setTimeout(make, i*80) }
  // then stop to be polite
  setTimeout(()=> run=false, 3500);
})();

/* Accessibility: focus outlines for keyboard users */
(function focusOutline(){
  function handleFirstTab(e){
    if(e.key === 'Tab'){
      document.body.classList.add('show-focus');
      window.removeEventListener('keydown', handleFirstTab);
    }
  }
  window.addEventListener('keydown', handleFirstTab);
})();

/* Extra: small helpful answers prepped (for student to say on exam) */
const preparedAnswers = {
  name: 'Bezpieczna SieÄ‡ â€” przewodnik praktyczny',
  whyName: 'Nazwa jest zwiÄ™zÅ‚a i jasno komunikuje tematykÄ™: bezpieczeÅ„stwo i dobre praktyki w sieci.',
  creatorChoice: 'Wix (lub Canva) â€” prosty kreator, darmowy plan, gotowe szablony i moÅ¼liwoÅ›Ä‡ publikacji.',
  netiquette: 'Szacunek, poprawna komunikacja, nie spamowaÄ‡, cytowaÄ‡ ÅºrÃ³dÅ‚a i nie obraÅ¼aÄ‡ innych.',
  protectData: 'UÅ¼ywaÄ‡ menedÅ¼era haseÅ‚, dÅ‚ugich haseÅ‚, 2FA, aktualizowaÄ‡ oprogramowanie i uwaÅ¼aÄ‡ na phishing.',
  digitalIdentity: 'Obraz osoby w internecie: profile, posty, zdjÄ™cia, komentarze i historia aktywnoÅ›ci.',
  checkTruth: 'SprawdzaÄ‡ ÅºrÃ³dÅ‚a, porÃ³wnywaÄ‡ informacje, weryfikowaÄ‡ autora i datÄ™, uÅ¼ywaÄ‡ fact-checkerÃ³w.',
  familyLearn: 'Rodzina moÅ¼e uczyÄ‡ ostroÅ¼noÅ›ci â€” nie podawaÄ‡ haseÅ‚, instalowaÄ‡ aktualizacje, rozmawiaÄ‡ o zagroÅ¼eniach.',
  mostImportantTab: 'BezpieczeÅ„stwo â€” bo bez ochrony danych i kont nie da siÄ™ bezpiecznie korzystaÄ‡ z internetu.'
};

/* If user wants to show prepared answers, allow console print (for teacher/demo) */
console.log('Prepared short exam answers (pl):', preparedAnswers);

/* End of JS */
</script>
</body>
</html>
